<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Buckshot Roulette</title>
<style>
  body {
    margin: 0;
    font-family: system-ui, sans-serif;
    background: radial-gradient(circle at top, #1a1a1a, #000);
    color: #eee;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .game {
    background: #111;
    border-radius: 14px;
    padding: 2rem;
    width: 360px;
    box-shadow: 0 0 60px rgba(0,0,0,.8);
    text-align: center;
  }

  h1 {
    margin: 0 0 1rem;
    font-weight: 600;
    letter-spacing: .04em;
  }

  .dealer {
    font-size: .95rem;
    color: #aaa;
    margin-bottom: 1.2rem;
    min-height: 3em;
  }

  button {
    background: #8b1d1d;
    border: none;
    color: #fff;
    padding: .7rem 1.2rem;
    border-radius: 6px;
    font-size: 1rem;
    cursor: pointer;
    margin: .4rem;
  }

  button.secondary {
    background: #333;
  }

  button:disabled {
    opacity: .4;
    cursor: not-allowed;
  }

  .status {
    margin-top: 1rem;
    font-size: 1.1rem;
    min-height: 2em;
  }

  .shells {
    margin-top: .6rem;
    font-size: .85rem;
    color: #888;
  }
</style>
</head>
<body>

<div class="game">
  <h1>Buckshot Roulette</h1>

  <div class="dealer" id="dealer">
    The dealer waits.
  </div>

  <div>
    <button onclick="fire()">Pull Trigger</button>
    <button class="secondary" onclick="reload()">Reload</button>
  </div>

  <div class="status" id="status">
    â€”
  </div>

  <div class="shells" id="shells">
    Shells remaining: 0
  </div>
</div>

<script>
let shells = [];
let liveCount = 0;
let blankCount = 0;

function reload() {
  shells = [];

  const total = rand(2, 8);

  liveCount = rand(1, total - 1);
  blankCount = total - liveCount;

  for (let i = 0; i < liveCount; i++) shells.push("LIVE");
  for (let i = 0; i < blankCount; i++) shells.push("BLANK");

  shuffle(shells);

  document.getElementById("dealer").textContent =
    `Dealer: ${liveCount} live shell${liveCount > 1 ? "s" : ""}. ` +
    `${blankCount} blank${blankCount > 1 ? "s" : ""}.`;

  document.getElementById("status").textContent =
    "The shotgun is loaded.";

  updateShellCount();
}

function fire() {
  if (shells.length === 0) {
    document.getElementById("status").textContent =
      "The chamber is empty.";
    return;
  }

  const shell = shells.shift();

  if (shell === "LIVE") {
    document.getElementById("status").textContent = "ðŸ’¥ LIVE SHELL";
    liveCount--;
  } else {
    document.getElementById("status").textContent = "clickâ€¦ BLANK";
    blankCount--;
  }

  updateShellCount();

  if (shells.length === 0) {
    document.getElementById("dealer").textContent =
      "Dealer: The round is over.";
  }
}

function updateShellCount() {
  document.getElementById("shells").textContent =
    `Shells remaining: ${shells.length}`;
}

function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
}

function rand(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}
</script>

</body>
</html>
